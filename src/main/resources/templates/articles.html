<!DOCTYPE html>
<html xmlns:th = "http://thymeLeaf.org"
      xmlns:layout = "http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate = "layout">

<head>
    <meta charset="ISO-8859-1">
    <title>Insert title here</title>
</head>
<body>
<div layout:fragment = "content">
    <div class = "container">
        <ul class="nav nav-pills">
            <li th:each="cat:${listCategories}">
                <a th:href = "@{/index (id=${cat.id} , category=${cat.name})}" th:text = "${cat.name}"></a>
            </li>
        </ul>

        <br>

        <div class = "panel panel-primary">
            <div class = "panel-heading">List des Articles</div>
            <div class = "panel-body">

                <form th:action ="@{/index}" method = "get">
                    <label>keyword</label>
                    <input type = "text" name = "keyword" th:value = "${keyword}">
                    <button type = "submit" class = "btn btn-primary"> search </button>
                </form>

                <br>

                <table class = "table" >
                        <tr>
                            <th>Id</th> <th>Brand</th> <th>Description</th> <th>Price</th> <th>Category</th>
                        </tr>
                        <tr th:each="a:${listArticle}">
                            <td th:text="${a.id}"></td>
                            <td th:text="${a.brand}"></td>
                            <td th:text="${a.description}"></td>
                            <td th:text="${a.price}"></td>
                            <td th:text="${a.category.name}"></td>
                            <td>
                                <a class="btn btn-danger" th:href="@{/delete(id=${a.id}, page=${currentPage}, keyword=${keyword})}">Delete</a>
                            </td>
                            <td>
                                <a class="btn btn-primary" th:href="@{/updateForm(idArticle=${a.id})}">Update</a>
                            </td>
                        </tr>
                    </table>

                    <br>

                    <ul class="nav nav-pills" >
                        <li th:class="${currentPage == status.index}?'active':''" th:each="page, status:${pages}" >
                            <a th:href = "@{/index(id=${idCat != null}?${idCat}:'' , page=${status.index}, keyword=${keyword})}" th:text="${status.index}"></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>